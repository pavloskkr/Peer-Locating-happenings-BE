import {Container} from "inversify";
import {IUserRepository} from "../domain/interfaces/IUserRepository";
import {UserRepository} from "./repositories/UserRepository";
import {IHappeningRepository} from "../domain/interfaces/IHappeningRepository";
import {HappeningRepository} from "./repositories/HappeningRepository";
import {HappeningController} from "../interface/controllers/HappeningController";
import {UserController} from "../interface/controllers/UserController";

const DIContainer = new Container();

DIContainer.bind<IUserRepository>('IUserRepository').to(UserRepository);
DIContainer.bind<IHappeningRepository>('IHappeningRepository').to(HappeningRepository);

DIContainer.bind<HappeningController>(HappeningController).toSelf();
DIContainer.bind<UserController>(UserController).toSelf();

DIContainer.bind<CreateHappeningUseCase>(CreateHappeningUseCase).toSelf();
DIContainer.bind<DeleteHappeningUseCase>(DeleteHappeningUseCase).toSelf();
DIContainer.bind<FindAllHappeningsUseCase>(FindAllHappeningsUseCase).toSelf();
DIContainer.bind<FindHappeningByIdUseCase>(FindHappeningByIdUseCase).toSelf();
DIContainer.bind<FindHappeningsByDateUseCase>(FindHappeningsByDateUseCase).toSelf();
DIContainer.bind<FindHappeningsByEventTypeUseCase>(FindHappeningsByEventTypeUseCase).toSelf();
DIContainer.bind<FindHappeningsByUserUseCase>(FindHappeningsByUserUseCase).toSelf();
DIContainer.bind<UpdateHappeningUseCase>(UpdateHappeningUseCase).toSelf();

// Bind User use-cases
DIContainer.bind<CreateUserUseCase>(CreateUserUseCase).toSelf();
DIContainer.bind<DeleteUserUseCase>(DeleteUserUseCase).toSelf();
DIContainer.bind<FindUserByFirebaseUidUseCase>(FindUserByFirebaseUidUseCase).toSelf();
DIContainer.bind<FindUserByIdUseCase>(FindUserByIdUseCase).toSelf();
DIContainer.bind<GetAllUsersUseCase>(GetAllUsersUseCase).toSelf();
DIContainer.bind<UpdateUserUseCase>(UpdateUserUseCase).toSelf();

export { DIContainer };
